<!DOCTYPE html>  <html> <head>   <title>Checkbox.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="Wiggy.html">                 Wiggy.coffee               </a>                                           <a class="source" href="Dictionary.html">                 Dictionary.coffee               </a>                                           <a class="source" href="Sequence.html">                 Sequence.coffee               </a>                                           <a class="source" href="Observable.html">                 Observable.coffee               </a>                                           <a class="source" href="Properties.html">                 Properties.coffee               </a>                                           <a class="source" href="BlueprintContainer.html">                 BlueprintContainer.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="ButtonGroup.html">                 ButtonGroup.coffee               </a>                                           <a class="source" href="Checkbox.html">                 Checkbox.coffee               </a>                                           <a class="source" href="DynamicContainer.html">                 DynamicContainer.coffee               </a>                                           <a class="source" href="Element.html">                 Element.coffee               </a>                                           <a class="source" href="Field.html">                 Field.coffee               </a>                                           <a class="source" href="Panel.html">                 Panel.coffee               </a>                                           <a class="source" href="Radiobutton.html">                 Radiobutton.coffee               </a>                                           <a class="source" href="Searchfield.html">                 Searchfield.coffee               </a>                                           <a class="source" href="TabPanel.html">                 TabPanel.coffee               </a>                                           <a class="source" href="Textarea.html">                 Textarea.coffee               </a>                                           <a class="source" href="Textfield.html">                 Textfield.coffee               </a>                                           <a class="source" href="Titlebar.html">                 Titlebar.coffee               </a>                                           <a class="source" href="Widget.html">                 Widget.coffee               </a>                                           <a class="source" href="Window.html">                 Window.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Checkbox.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h3>Wrapper for prettier looking checkboxes</h3>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Wiggy</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Checkbox</span> <span class="k">extends</span> <span class="nx">Wiggy</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Field</span>
  <span class="nv">constructor: </span><span class="nf">(config) -&gt;</span>
    <span class="nx">config</span> <span class="o">?=</span> <span class="p">{}</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">element</span> <span class="o">?=</span> <span class="p">{}</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">?=</span> <span class="s1">&#39;input&#39;</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">inputType</span> <span class="o">?=</span> <span class="s1">&#39;checkbox&#39;</span>

    <span class="k">super</span> <span class="nx">config</span>

    <span class="p">{</span> <span class="nx">@checked</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">config</span>

    <span class="vi">@button = </span><span class="k">new</span> <span class="nx">Wiggy</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span>
      <span class="nv">element: cssClass: </span><span class="nx">config</span><span class="p">.</span><span class="nx">buttonClass</span> <span class="o">or</span> <span class="s1">&#39;wiggy-checkbox&#39;</span>

  <span class="nv">onShow: </span><span class="o">=&gt;</span>
    <span class="k">super</span><span class="p">()</span>
    <span class="nx">@button</span><span class="p">.</span><span class="nx">show</span><span class="p">()</span>

  <span class="nv">onHide: </span><span class="o">=&gt;</span>
    <span class="k">super</span><span class="p">()</span>
    <span class="nx">@button</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span>

  <span class="nv">onDisable: </span><span class="o">=&gt;</span>
    <span class="k">super</span><span class="p">()</span>
    <span class="nx">@button</span><span class="p">.</span><span class="nx">disable</span><span class="p">()</span>

  <span class="nv">onEnable: </span><span class="o">=&gt;</span>
    <span class="k">super</span><span class="p">()</span>
    <span class="nx">@button</span><span class="p">.</span><span class="nx">enable</span><span class="p">()</span>

  <span class="nv">onRender: </span><span class="p">(</span><span class="nx">parent</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">return</span> <span class="err">@</span> <span class="k">if</span> <span class="nx">@rendered</span>
    <span class="nx">@button</span><span class="p">.</span><span class="nx">render</span> <span class="nx">@element</span><span class="p">.</span><span class="nx">parent</span>

    <span class="k">super</span> <span class="nx">arguments</span><span class="p">...</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>We need to hide the default browser input checkbox and replace the
element's show function with one that does nothing. This ensures the
original checkbox wont become visible as this widget is shown/hidden</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@element.dom.show = </span><span class="o">-&gt;</span>
    <span class="nv">$input = </span><span class="nx">@element</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span>

    <span class="nx">@button</span><span class="p">.</span><span class="kc">on</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="nx">$input</span><span class="p">.</span><span class="nx">trigger</span> <span class="s1">&#39;click&#39;</span>

    <span class="nv">$button = </span><span class="nx">@button</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">dom</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">attr</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">@name</span>

    <span class="nv">$label = </span><span class="nx">@label</span><span class="p">.</span><span class="nx">dom</span>

    <span class="nx">$label</span><span class="p">.</span><span class="nx">mouseover</span> <span class="o">=&gt;</span>
      <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">@disabled</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">addClass</span> <span class="s1">&#39;hover&#39;</span>
      <span class="nx">$label</span><span class="p">.</span><span class="nx">css</span> <span class="s1">&#39;cursor&#39;</span><span class="p">,</span> <span class="s1">&#39;pointer&#39;</span>

    <span class="nx">$label</span><span class="p">.</span><span class="nx">mouseout</span> <span class="o">=&gt;</span>
      <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">@disabled</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">removeClass</span> <span class="s1">&#39;hover&#39;</span>
      <span class="nx">$label</span><span class="p">.</span><span class="nx">css</span> <span class="s1">&#39;cursor&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span>

    <span class="nx">$label</span><span class="p">.</span><span class="nx">mousedown</span> <span class="o">=&gt;</span>
      <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">@disabled</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">addClass</span> <span class="s1">&#39;active&#39;</span>

    <span class="nx">$label</span><span class="p">.</span><span class="nx">mouseup</span> <span class="o">=&gt;</span>
      <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">@disabled</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">removeClass</span> <span class="s1">&#39;active&#39;</span>

    <span class="nx">$input</span><span class="p">.</span><span class="nx">click</span> <span class="o">=&gt;</span>
      <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">@disabled</span>
      <span class="k">if</span> <span class="nx">$button</span><span class="p">.</span><span class="nx">hasClass</span> <span class="s1">&#39;checked&#39;</span>
        <span class="nx">$button</span><span class="p">.</span><span class="nx">removeClass</span> <span class="s1">&#39;checked&#39;</span>
      <span class="k">else</span>
        <span class="nx">$button</span><span class="p">.</span><span class="nx">addClass</span> <span class="s1">&#39;checked&#39;</span>

    <span class="k">if</span> <span class="nx">@checked</span>
      <span class="nx">$input</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nv">checked = </span><span class="kc">true</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">addClass</span> <span class="s1">&#39;checked&#39;</span>

    <span class="nx">@button</span><span class="p">.</span><span class="nx">disable</span><span class="p">()</span> <span class="k">if</span> <span class="nx">@disabled</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 